(function(t){function a(a){for(var s,o,r=a[0],l=a[1],c=a[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(a);while(h.length)h.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],s=!0,r=1;r<e.length;r++){var l=e[r];0!==i[l]&&(s=!1)}s&&(n.splice(a--,1),t=o(o.s=e[0]))}return t}var s={},i={app:0},n=[];function o(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=s,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)o.d(e,s,function(a){return t[a]}.bind(null,s));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/wallet/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=a,r=r.slice();for(var c=0;c<r.length;c++)a(r[c]);var d=l;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";e("85ec")},"22de":function(t,a,e){"use strict";e("8319")},"2a37":function(t,a,e){"use strict";e("5ccf")},4678:function(t,a,e){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var a=n(t);return e(a)}function n(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},"56d7":function(t,a,e){"use strict";e.r(a);e("96cf");var s,i,n,o,r=e("1da1"),l=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("2b0e")),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("br"),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1),e("br")],1)},d=[],u={name:"app",mounted:function(){console.log("done!!"),document.getElementById("loader").style.display="none"}},h=u,p=(e("034f"),e("2877")),m=Object(p["a"])(h,c,d,!1,null,null,null),g=m.exports,_=(e("45fc"),e("b0c0"),e("8c4f")),b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row g-1"},t._l(t.weeks,(function(a){return e("div",{key:a.date,staticClass:"col text-center"},[e("div",{staticClass:"d-grid gap-2"},[a.date===t.today.date?e("span",{staticClass:"btn btn-sm btn-success"},[t._v(t._s(a.date))]):e("span",{staticClass:"btn btn-sm",on:{click:function(e){return t.click_date(a.month,a.date,a.year)}}},[t._v(t._s(a.date))])])])})),0),e("hr"),e("div",{staticClass:"d-flex justify-content-between"},[e("div",{staticClass:"fs-1"},[t._v(t._s(t.today.month)+"月"+t._s(t.today.date)+"日")]),e("router-link",{staticClass:"btn btn-light",attrs:{to:"/main/record",tag:"button"}},[e("svg",{staticClass:"bi bi-journal-plus",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M8 5.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 .5-.5z"}}),e("path",{attrs:{d:"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"}}),e("path",{attrs:{d:"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"}})])])],1),e("br"),!1===t.on_load?e("div",[e("List",{attrs:{list:t.list,tags:t.tags,colors:t.colors,inc_colors:t.inc_colors,inc_tags:t.inc_tags},on:{delete_done:t.delete_done,edit_done:t.edit_done}})],1):e("div",{staticClass:"d-flex justify-content-center"},[t._v(" 載入中... ")])])},v=[],f=(e("99af"),e("4de4"),e("ac1f"),e("1276"),e("260b")),w=(e("e71f"),e("ea7b"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"modal fade",attrs:{id:"delete_alert","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h3",{staticClass:"modal-title",attrs:{id:"staticBackdropLabel"}},[e("span",{staticClass:"badge bg-danger"},[e("svg",{staticClass:"bi bi-exclamation-triangle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}}),e("path",{attrs:{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"}})])]),t._v(" 注意！ ")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[t._v(" 確認刪除？ ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(a){return t.delete_note()}}},[t._v("刪除")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"edit_model","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h3",{staticClass:"modal-title",attrs:{id:"staticBackdropLabel"}},[e("span",{staticClass:"badge bg-light text-dark"},[e("svg",{staticClass:"bi bi-pencil",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}})])]),t._v(" 編輯 ")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row mb-3"},[e("div",{staticClass:"col"},[e("div",{staticClass:"d-grid gap-2"},["收入"===t.edit_pannel.type?e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){return t.s_type("收入")}}},[t._v("收入")]):e("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(a){return t.s_type("收入")}}},[t._v("收入")])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"d-grid gap-2"},["支出"===t.edit_pannel.type?e("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(a){return t.s_type("支出")}}},[t._v("支出")]):e("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button"},on:{click:function(a){return t.s_type("支出")}}},[t._v("支出")])])])]),e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.edit_note(a)}}},[e("div",{staticClass:"mb-3"},[e("vc-date-picker",{attrs:{"model-config":t.edit_pannel.modelConfig},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.inputValue,i=a.inputEvents;return[e("input",t._g({staticClass:"form-control form-control-lg",domProps:{value:s}},i))]}}]),model:{value:t.edit_pannel.date,callback:function(a){t.$set(t.edit_pannel,"date",a)},expression:"edit_pannel.date"}})],1),"支出"===t.edit_pannel.type?e("div",{staticClass:"mb-3"},[e("div",{staticStyle:{overflow:"auto","white-space":"nowrap"}},t._l(t.tags.length,(function(a){return e("span",{key:a,staticStyle:{padding:"3px"}},[t.tags[a-1]===t.edit_pannel.select_tag?e("button",{staticClass:"btn",style:{color:"white","background-color":t.colors[a-1],"border-color":t.colors[a-1]},attrs:{type:"button"},on:{click:function(e){return t.s_tag(t.tags[a-1])}}},[t._v(t._s(t.tags[a-1]))]):e("button",{staticClass:"btn",style:{color:t.colors[a-1],"border-color":t.colors[a-1]},attrs:{type:"button"},on:{click:function(e){return t.s_tag(t.tags[a-1])}}},[t._v(t._s(t.tags[a-1]))]),e("span")])})),0)]):t._e(),"收入"===t.edit_pannel.type?e("div",{staticClass:"mb-3"},[e("div",{staticStyle:{overflow:"auto","white-space":"nowrap"}},t._l(t.inc_tags.length,(function(a){return e("span",{key:a,staticStyle:{padding:"3px"}},[t.inc_tags[a-1]===t.edit_pannel.select_tag?e("button",{staticClass:"btn",style:{color:"white","background-color":t.inc_colors[a-1],"border-color":t.inc_colors[a-1]},attrs:{type:"button"},on:{click:function(e){return t.s_tag(t.inc_tags[a-1])}}},[t._v(t._s(t.inc_tags[a-1]))]):e("button",{staticClass:"btn",style:{color:t.inc_colors[a-1],"border-color":t.inc_colors[a-1]},attrs:{type:"button"},on:{click:function(e){return t.s_tag(t.inc_tags[a-1])}}},[t._v(t._s(t.inc_tags[a-1]))]),e("span")])})),0)]):t._e(),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_pannel.count,expression:"edit_pannel.count"}],staticClass:"form-control",attrs:{type:"number",id:"item_count",placeholder:"place",pattern:"[0-9]*",inputmode:"numeric",autofocus:""},domProps:{value:t.edit_pannel.count},on:{input:function(a){a.target.composing||t.$set(t.edit_pannel,"count",a.target.value)}}}),e("label",[t._v("金額")])]),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_pannel.name,expression:"edit_pannel.name"}],staticClass:"form-control",attrs:{type:"text",id:"item_name",placeholder:"place"},domProps:{value:t.edit_pannel.name},on:{input:function(a){a.target.composing||t.$set(t.edit_pannel,"name",a.target.value)}}}),e("label",[t._v("名稱(選填)")])]),e("div",{staticClass:"d-grid gap-2"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-bs-dismiss":"modal"},on:{click:t.edit_note}},[t._v("修改")])])])])])])]),e("transition-group",{attrs:{name:"list",tag:"div"}},[0==t.list.length?e("div",{key:"no_data",staticClass:"list-item"},[e("div",{staticClass:"card card-body",staticStyle:{"border-left":"5px solid #dc3545"}},[e("div",{staticClass:"d-flex justify-content-between"},[e("h5",[e("svg",{staticClass:"bi bi-cart-x",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M7.354 5.646a.5.5 0 1 0-.708.708L7.793 7.5 6.646 8.646a.5.5 0 1 0 .708.708L8.5 8.207l1.146 1.147a.5.5 0 0 0 .708-.708L9.207 7.5l1.147-1.146a.5.5 0 0 0-.708-.708L8.5 6.793 7.354 5.646z"}}),e("path",{attrs:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}})]),t._v(" 沒有紀錄... ")])])])]):t._e(),t._l(t.list,(function(a){return e("div",{key:a._uuid,staticClass:"mb-1 list-item"},[e("div",{staticClass:"card card-body",style:t.get_border(a.type)},[e("div",{staticClass:"d-flex justify-content-between"},[e("h5",[e("span",{staticClass:"badge rounded-pill",style:t.get_tag(a.type,a.tag)},[t._v(t._s(a.tag))]),t._v(" "+t._s(a.name)+" ")]),e("h5",[t._v(" "+t._s(a.count)+" "),e("span",{attrs:{role:"button","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false"}},[e("svg",{staticClass:"bi bi-three-dots-vertical",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}})])]),e("ul",{staticClass:"dropdown-menu dropdown-menu-end"},[e("li",[e("button",{staticClass:"dropdown-item",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#delete_alert"},on:{click:function(e){t.delete_uuid=a._uuid,t.delete_year=a.year.toString(),t.delete_month=a.month.toString().padStart(2,"0")}}},[e("span",{staticClass:"badge bg-danger"},[e("svg",{staticClass:"bi bi-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])]),t._v(" 刪除 ")])]),e("li",[e("button",{staticClass:"dropdown-item",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#edit_model"},on:{click:function(e){t.reverse_edit(a),t.delete_uuid=a._uuid,t.delete_year=a.year.toString(),t.delete_month=a.month.toString().padStart(2,"0")}}},[e("span",{staticClass:"badge bg-light text-dark"},[e("svg",{staticClass:"bi bi-pencil",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}})])]),t._v(" 編輯 ")])])])])])])])}))],2)],1)}),y=[],C=(e("c975"),{name:"List",props:{tags:Array,colors:Array,inc_tags:Array,inc_colors:Array,list:Array},data:function(){return{delete_uuid:"",delete_month:"",delete_year:"",edit_pannel:{select_tag:"",type:"支出",name:"",count:"",date:"",_uuid:"",modelConfig:{type:"string",mask:"YYYY-MM-DD"}}}},methods:{get_border:function(t){return"收入"==t?"border-left: 5px solid #198754;":"border-left: 5px solid #ffc107;"},get_tag:function(t,a){return"收入"==t?-1==this.inc_tags.indexOf(a)?{"background-color":"rgb(0, 0, 0)"}:{"background-color":this.inc_colors[this.inc_tags.indexOf(a)]}:-1==this.tags.indexOf(a)?{"background-color":"rgb(0, 0, 0)"}:{"background-color":this.colors[this.tags.indexOf(a)]}},delete_note:function(){var t=f["a"].auth().currentUser.uid,a=this;f["a"].firestore().collection("service").doc(t).collection("wallet").doc(this.delete_year+"-"+this.delete_month).collection("detail").doc(this.delete_uuid).delete().then((function(){a.$emit("delete_done","success"),a.$toast.success("成功刪除",{position:"top-right"})})).catch((function(t){console.error(t)}))},edit_note:function(){var t=this;if(""!=this.edit_pannel.count&&""!=this.edit_pannel.date){var a=parseInt(this.edit_pannel.count);"支出"==this.edit_pannel.type?(a*=-1,""==this.edit_pannel.select_tag&&(this.edit_pannel.select_tag="其他")):""==this.edit_pannel.select_tag&&(this.edit_pannel.select_tag="現金");var e=this,s=f["a"].auth().currentUser.uid;f["a"].firestore().collection("service").doc(s).collection("wallet").doc(this.edit_pannel.date.split("-")[0]+"-"+this.edit_pannel.date.split("-")[1]).set({secure:0}).then((function(){f["a"].firestore().collection("service").doc(s).collection("wallet").doc(t.delete_year+"-"+t.delete_month).collection("detail").doc(t.delete_uuid).delete().then((function(){f["a"].firestore().collection("service").doc(s).collection("wallet").doc(e.edit_pannel.date.split("-")[0]+"-"+e.edit_pannel.date.split("-")[1]).collection("detail").doc(e.edit_pannel._uuid).set({count:a,name:e.edit_pannel.name,tag:e.edit_pannel.select_tag,type:e.edit_pannel.type,_uuid:e.edit_pannel._uuid,month:new Date(e.edit_pannel.date).getMonth()+1,date:new Date(e.edit_pannel.date).getDate(),year:new Date(e.edit_pannel.date).getFullYear(),time:new Date(e.edit_pannel.date).getTime()}).then((function(){e.$emit("edit_done","success"),e.$toast.success("成功刪除",{position:"top-right"})})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))})).catch((function(a){t.$toast.danger(a.message),t.$router.push("/main")}))}else this.$toast.error("請填滿所有欄位",{position:"top-right"})},s_tag:function(t){this.edit_pannel.select_tag=t},s_type:function(t){this.edit_pannel.type=t,this.edit_pannel.select_tag=""},reverse_edit:function(t){console.log(t),this.edit_pannel.select_tag=t.tag,this.edit_pannel._uuid=t._uuid,this.edit_pannel.type=t.type,this.edit_pannel.name=t.name,this.edit_pannel.count=t.count,this.edit_pannel.count<0&&(this.edit_pannel.count*=-1);var a=new Date(t.year,t.month-1,t.date+1);this.edit_pannel.date=a.toISOString().split("T")[0]}}}),x=C,j=(e("f62b"),Object(p["a"])(x,w,y,!1,null,null,null)),k=j.exports,z={name:"Home",props:{tags:Array,colors:Array,inc_tags:Array,inc_colors:Array},components:{List:k},data:function(){return{wallets:new Array,weeks:new Array,today:{month:(new Date).getMonth()+1,date:(new Date).getDate(),year:(new Date).getFullYear()},query_:new Array,query_btn:"全部",list:new Array,on_load:!1}},created:function(){this.init()},methods:{initialize_data:function(){this.wallets=new Array,this.weeks=new Array,this.today={month:(new Date).getMonth()+1,date:(new Date).getDate(),year:(new Date).getFullYear()},this.query_=new Array,this.query_btn="全部",this.list=new Array},init:function(){var t=this;this.on_load=!0,this.initialize_data();for(var a=new Date,e=a.getDay(),s=0;s<7;s++)if(s-e!=0){var i=s-e,n=new Date(a.getTime()+24*i*60*60*1e3);this.weeks.push({month:n.getMonth()+1,date:n.getDate(),year:n.getFullYear()})}else n=a,this.weeks.push({month:n.getMonth()+1,date:n.getDate(),year:n.getFullYear()});this.wallets=new Array;var o=f["a"].auth().currentUser.uid,r=new Date;r=r.toISOString(),f["a"].firestore().collection("service").doc(o).collection("wallet").doc(r.split("-")[0]+"-"+r.split("-")[1]).collection("detail").get().then((function(a){for(var e in a.docs)t.wallets.push(a.docs[e].data());t.wallets.sort((function(t,a){return t.time-a.time})),t.query_=new Array,t.query_=t.inc_tags,t.query_=t.query_.concat(t.tags),t.on_load=!1,t.$emit("total");var s=t.today;t.list=t.wallets.filter((function(t){return t.year==s.year&&t.month==s.month&&t.date==s.date}))})).catch((function(t){console.error(t)}))},click_date:function(t,a,e){this.today={month:t,date:a,year:e};var s=this.today;this.list=this.wallets.filter((function(t){return t.year==s.year&&t.month==s.month&&t.date==s.date}))},delete_done:function(){this.$emit("total"),this.init()},edit_done:function(){this.$emit("total"),this.init()}}},M=z,A=Object(p["a"])(M,b,v,!1,null,"3fddb846",null),L=A.exports,V=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container"},[s("InfoModal"),s("form",{staticClass:"text-center ",staticStyle:{"max-width":"330px",margin:"0px auto"},attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.login(a)}}},[s("img",{staticClass:"mb-4",attrs:{src:e("cf05"),alt:"",width:"72",height:"72"}}),s("h1",{staticClass:"h3 mb-3 fw-normal"},[t._v("登入")]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"floatingInput",placeholder:"name@example.com",required:"",autofocus:""},domProps:{value:t.user.email},on:{input:function(a){a.target.composing||t.$set(t.user,"email",a.target.value)}}}),s("label",{attrs:{for:"floatingInput"}},[t._v("電子信箱")])]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.pass,expression:"user.pass"}],staticClass:"form-control",attrs:{type:"password",id:"floatingPassword",placeholder:"Password",required:""},domProps:{value:t.user.pass},on:{input:function(a){a.target.composing||t.$set(t.user,"pass",a.target.value)}}}),s("label",{attrs:{for:"floatingPassword"}},[t._v("密碼")])]),t.error?s("div",{staticClass:"card card-body mb-1",staticStyle:{"border-left":"5px solid rgb(220, 53, 69)"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-check-label"},[t._v("沒有帳號嗎？ "),s("router-link",{attrs:{to:"/register"}},[t._v("點我註冊")])],1)]),s("button",{staticClass:"w-100 btn btn-lg btn-primary",class:{disabled:t.onload},attrs:{type:"submit"}},[t._v("登入")]),s("br"),s("br"),t._m(0)])],1)},H=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mb-3"},[e("button",{staticClass:"btn btn-link",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}},[t._v("V1.0.1-build220")])])}],D=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("V1.0.1")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[e("p",[t._v("功能")]),e("ul",[e("li",[t._v("新增離線偵測及加快頁面載入速度")]),e("li",[t._v("基礎帳號服務")]),e("li",[t._v("主頁面會顯示當周日期快速鍵")]),e("li",[t._v("可以新增/刪除/編輯帳本")]),e("li",[t._v("有圖表及月曆可以快速蓋覽收支情形")]),e("li",[t._v("帳本使用標籤分類可以快速紀錄")]),e("li",[t._v("自定義標籤")]),e("li",[t._v("收支分類圖表(圓餅圖)")])]),e("p",[t._v("實作中或規劃中的功能")]),e("ul",[e("li",[t._v("使用標籤選擇器分類帳目顯示")]),e("li",[t._v("帳號設定服務")])])])])])])}],S={name:"InfoModal"},B=S,O=Object(p["a"])(B,D,$,!1,null,null,null),P=O.exports,E={name:"Login",components:{InfoModal:P},data:function(){return{user:{email:"",pass:"",detail:{}},onload:!1,error:""}},methods:{login:function(){var t=this;this.onload=!0,this.error="",f["a"].auth().signInWithEmailAndPassword(this.user.email,this.user.pass).then((function(a){var e=a.user;console.log(e),t.user.detail=e,t.$toast.success("登入成功",{position:"top-right"}),t.onload=!1})).catch((function(a){t.error=t.error_handling(a.code),t.onload=!1}))},error_handling:function(t){return"auth/invalid-email"==t?"信箱格式錯誤":"auth/user-disabled"==t?"此帳戶已被停用":"auth/user-not-found"==t?"無此帳戶":"auth/wrong-password"==t?"密碼錯誤":void 0}}},I=E,N=(e("d6db"),Object(p["a"])(I,V,H,!1,null,null,null)),q=N.exports,U=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"text-center container"},[s("form",{staticStyle:{"max-width":"330px",margin:"0px auto"},attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.register(a)}}},[s("img",{staticClass:"mb-4",attrs:{src:e("cf05"),alt:"",width:"72",height:"72"}}),s("h1",{staticClass:"h3 mb-3 fw-normal"},[t._v("建立帳號")]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"reg-email",placeholder:"name@example.com"},domProps:{value:t.user.email},on:{input:function(a){a.target.composing||t.$set(t.user,"email",a.target.value)}}}),s("label",{attrs:{for:"floatingInput"}},[t._v("電子信箱")])]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.pass,expression:"user.pass"}],staticClass:"form-control",attrs:{type:"password",id:"reg-pass",placeholder:"Password"},domProps:{value:t.user.pass},on:{input:function(a){a.target.composing||t.$set(t.user,"pass",a.target.value)}}}),s("label",{attrs:{for:"floatingPassword"}},[t._v("密碼")])]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.repass,expression:"user.repass"}],staticClass:"form-control",attrs:{type:"password",id:"reg-repass",placeholder:"Password"},domProps:{value:t.user.repass},on:{input:function(a){a.target.composing||t.$set(t.user,"repass",a.target.value)}}}),s("label",{attrs:{for:"floatingPassword"}},[t._v("確認密碼")])]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"reg-name",placeholder:"Password"},domProps:{value:t.user.name},on:{input:function(a){a.target.composing||t.$set(t.user,"name",a.target.value)}}}),s("label",{attrs:{for:"floatingPassword"}},[t._v("姓名")])]),t.error?s("div",{staticClass:"card card-body mb-1",staticStyle:{"border-left":"5px solid rgb(220, 53, 69)"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-check-label"},[t._v("已有帳號嗎？ "),s("router-link",{attrs:{to:"/login"}},[t._v("點我登入")])],1)]),s("button",{staticClass:"w-100 btn btn-lg btn-primary",attrs:{type:"submit"}},[t._v("註冊")])])])},Y=[],R={name:"Register",data:function(){return{user:{email:"",pass:"",repass:"",name:"",detail:{}},onload:!1,error:""}},methods:{register:function(){var t=this;this.user.pass==this.user.repass?(this.error="",this.onload=!0,f["a"].auth().createUserWithEmailAndPassword(this.user.email,this.user.pass).then((function(a){return console.log(a.user),t.user.detail=a.user,t.initialize(t.user.detail.uid),a.user.updateProfile({displayName:t.user.name})})).catch((function(a){t.error=t.error_handling(a.code),t.onload=!1}))):this.error="密碼與確認密碼不一樣"},initialize:function(t){var a=this;f["a"].firestore().collection("service").doc(t).set({tags:["早餐","午餐","晚餐","交通","食物","文具","其他"],colors:["#0d6efd","#6c757d","#198754","#0dcaf0","#ffc107","#dc3545","#212529"],inc_color:["#0d6efd","#6c757d"],inc_tags:["轉帳","現金"]}).then((function(){a.onload=!1,f["a"].auth().signOut().then((function(){a.$toast.success("註冊成功",{position:"top-right"})})).catch((function(t){console.log(t)}))})).catch((function(t){var a=t.code+"\n"+t.message;alert(a)}))},error_handling:function(t){return"auth/email-already-in-use"==t?"信箱已有人使用":"auth/user-disabled"==t?"此帳戶已被停用":"auth/operation-not-allowed"==t?"管理員已停止帳號註冊":"auth/weak-password"==t?"密碼過短":void 0}}},T=R,F=Object(p["a"])(T,U,Y,!1,null,null,null),J=F.exports,W=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"modal fade",attrs:{id:"PassingModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"staticBackdropLabel"}},[e("svg",{staticClass:"bi bi-receipt",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"}}),e("path",{attrs:{d:"M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"}})]),t._v(" 歸帳 ")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[!1===t.passing.enable?e("div",{staticClass:"d-flex justify-content-center"},[t._m(0)]):e("div",[e("h6",[t._v("你上個月的餘額為"+t._s(t.passing.last_month_total))]),e("h6",[t._v("系統將自動在上個月加入一筆帳目並引繼至這個月")]),e("div",{staticClass:"card card-body"},[e("div",{staticClass:"d-flex justify-content-between"},[t._m(1),e("h5",[t._v(" "+t._s(t.passing.last_month_total)+" "),e("span",{attrs:{role:"button","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false"}},[e("svg",{staticClass:"bi bi-three-dots-vertical",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}})])])])])])])]),t._m(2)])])]),e("nav",{staticClass:"navbar navbar-light bg-light fixed-top"},[e("div",{staticClass:"container-fluid"},[e("span",{staticClass:"navbar-brand mb-0 h1"},[t._v(t._s(t.name)+"的帳本")]),e("div",{staticClass:"d-flex"},[e("div",{staticStyle:{"padding-right":"10px"}},[e("button",{staticClass:"btn btn-light",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#PassingModal"},on:{click:function(a){return t.passing_money()}}},[e("svg",{staticClass:"bi bi-receipt",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"}}),e("path",{attrs:{d:"M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"}})])])]),e("button",{staticClass:"btn",staticStyle:{"background-color":"#d7f8ff"}},[e("svg",{staticClass:"bi bi-cash-stack",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1H1zm7 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}}),e("path",{attrs:{d:"M0 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V5zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V7a2 2 0 0 1-2-2H3z"}})]),t._v(" "+t._s(t.total_)+" ")])])])]),e("br"),e("br"),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view",{attrs:{tags:t.tags,colors:t.tags_c,inc_colors:t.inc_c,inc_tags:t.inc_tags},on:{total:t.cal_total,reload_tag:t.reload_tag}})],1),e("br"),e("br"),e("br"),e("nav",{staticClass:"bg-light fixed-bottom",staticStyle:{padding:"0px 10px 20px 10px"}},[e("div",{staticClass:"row"},[e("router-link",{staticClass:"col text-center",attrs:{to:"/main",tag:"a"}},[e("svg",{staticClass:"bi bi-calendar-event",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"}}),e("path",{attrs:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"}})])]),e("router-link",{staticClass:"col text-center",attrs:{to:"/main/detail",tag:"a"}},[e("svg",{staticClass:"bi bi-journal-text",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"}}),e("path",{attrs:{d:"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"}}),e("path",{attrs:{d:"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"}})])]),e("router-link",{staticClass:"col text-center",attrs:{to:"/main/record",tag:"a"}},[e("svg",{staticClass:"bi bi-journal-plus",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M8 5.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 .5-.5z"}}),e("path",{attrs:{d:"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"}}),e("path",{attrs:{d:"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"}})])]),e("router-link",{staticClass:"col text-center",attrs:{to:"/main/profile",tag:"a"}},[e("svg",{staticClass:"bi bi-person-lines-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"}})])])],1)])],1)},G=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h5",[e("span",{staticClass:"badge rounded-pill",staticStyle:{"background-color":"#212529"}},[t._v("其他")]),t._v(" 餘額轉入 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Understood")])])}],K={name:"Maiin",data:function(){return{tags:[],tags_c:[],inc_tags:[],inc_c:[],name:"",total_:0,passing:{enable:!1,last_month_total:0}}},created:function(){this.reload_tag()},methods:{cal_total:function(){var t=f["a"].auth().currentUser.uid,a=new Date;a=a.toISOString();var e=this;f["a"].firestore().collection("service").doc(t).collection("wallet").doc(a.split("-")[0]+"-"+a.split("-")[1]).collection("detail").get().then((function(t){var a=0;for(var s in t.docs)a+=t.docs[s].data().count;e.total_=a}))},reload_tag:function(){var t=this,a=f["a"].auth().currentUser.uid;this.name=f["a"].auth().currentUser.displayName,f["a"].firestore().collection("service").doc(a).get().then((function(a){console.log(a.data()),t.tags=a.data().tags,t.tags_c=a.data().colors,t.inc_tags=a.data().inc_tags,t.inc_c=a.data().inc_color})).catch((function(t){console.error(t)}))},passing_money:function(){var t=this;this.passing.enable=!1;var a=f["a"].auth().currentUser.uid,e=new Date;e.setMonth(e.getMonth()-1);var s=e.toISOString();f["a"].firestore().collection("service").doc(a).collection("wallet").doc(s.split("-")[0]+"-"+s.split("-")[1]).collection("detail").get().then((function(a){var e=0;for(var s in a.docs)e+=a.docs[s].data().count;t.passing.last_month_total=e,t.passing.enable=!0}))}}},Z=K,Q=(e("22de"),Object(p["a"])(Z,W,G,!1,null,null,null)),X=Q.exports,tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row mb-3"},[e("div",{staticClass:"col"},[e("div",{staticClass:"d-grid gap-2"},["收入"===t.type?e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){return t.s_type("收入")}}},[t._v("收入")]):e("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(a){return t.s_type("收入")}}},[t._v("收入")])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"d-grid gap-2"},["支出"===t.type?e("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(a){return t.s_type("支出")}}},[t._v("支出")]):e("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button"},on:{click:function(a){return t.s_type("支出")}}},[t._v("支出")])])])]),e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.new_add(a)}}},[e("div",{staticClass:"mb-3"},[e("vc-date-picker",{attrs:{"model-config":t.modelConfig},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.inputValue,i=a.inputEvents;return[e("input",t._g({staticClass:"form-control form-control-lg",domProps:{value:s}},i))]}}]),model:{value:t.date,callback:function(a){t.date=a},expression:"date"}})],1),"支出"===t.type?e("div",{staticClass:"mb-3"},[e("div",{staticStyle:{overflow:"auto","white-space":"nowrap"}},t._l(t.tags.length,(function(a){return e("span",{key:a,staticStyle:{padding:"3px"}},[t.tags[a-1]===t.select_tag?e("button",{staticClass:"btn",style:{color:"white","background-color":t.colors[a-1],"border-color":t.colors[a-1]},attrs:{type:"button"},on:{click:function(e){return t.s_tag(t.tags[a-1])}}},[t._v(t._s(t.tags[a-1]))]):e("button",{staticClass:"btn",style:{color:t.colors[a-1],"border-color":t.colors[a-1]},attrs:{type:"button"},on:{click:function(e){return t.s_tag(t.tags[a-1])}}},[t._v(t._s(t.tags[a-1]))]),e("span")])})),0)]):t._e(),"收入"===t.type?e("div",{staticClass:"mb-3"},[e("div",{staticStyle:{overflow:"auto","white-space":"nowrap"}},t._l(t.inc_tags.length,(function(a){return e("span",{key:a,staticStyle:{padding:"3px"}},[t.inc_tags[a-1]===t.select_tag?e("button",{staticClass:"btn",style:{color:"white","background-color":t.inc_colors[a-1],"border-color":t.inc_colors[a-1]},attrs:{type:"button"},on:{click:function(e){return t.s_tag(t.inc_tags[a-1])}}},[t._v(t._s(t.inc_tags[a-1]))]):e("button",{staticClass:"btn",style:{color:t.inc_colors[a-1],"border-color":t.inc_colors[a-1]},attrs:{type:"button"},on:{click:function(e){return t.s_tag(t.inc_tags[a-1])}}},[t._v(t._s(t.inc_tags[a-1]))]),e("span")])})),0)]):t._e(),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"form-control",attrs:{type:"number",pattern:"[0-9]*",inputmode:"numeric",id:"item_count",placeholder:"place",autofocus:"",autocomplete:"off"},domProps:{value:t.count},on:{input:function(a){a.target.composing||(t.count=a.target.value)}}}),e("label",[t._v("金額")])]),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"item_name",placeholder:"place",autocomplete:"off"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}}),e("label",[t._v("名稱(選填)")])]),e("div",{staticClass:"d-grid gap-2"},[e("button",{staticClass:"btn btn-primary",class:{disabled:t.onload},attrs:{type:"submit"}},[t._v("紀錄")])])])])},at=[],et=(e("d3b7"),e("25f0"),e("5319"),{name:"record",props:{tags:Array,colors:Array,inc_tags:Array,inc_colors:Array},data:function(){return{select_tag:"",type:"支出",name:"",count:"",date:"",modelConfig:{type:"string",mask:"YYYY-MM-DD"},onload:!1}},created:function(){var t=new Date;this.date=t.toISOString().split("T")[0]},methods:{new_add:function(){var t=this;if(1!=this.onload){if(this.onload=!0,""==this.count||""==this.date)return this.$toast.error("請填滿所有欄位",{position:"top-right"}),void(this.onload=!1);var a=f["a"].auth().currentUser.uid,e=parseInt(this.count);"支出"==this.type?(e*=-1,""==this.select_tag&&(this.select_tag="其他")):""==this.select_tag&&(this.select_tag="現金");var s=this._uuid();f["a"].firestore().collection("service").doc(a).collection("wallet").doc(this.date.split("-")[0]+"-"+this.date.split("-")[1]).set({secure:0}).catch((function(a){console.log(a),t.$router.push("/main")})),f["a"].firestore().collection("service").doc(a).collection("wallet").doc(this.date.split("-")[0]+"-"+this.date.split("-")[1]).collection("detail").doc(s).set({count:e,name:this.name,tag:this.select_tag,type:this.type,_uuid:s,month:new Date(this.date).getMonth()+1,date:new Date(this.date).getDate(),year:new Date(this.date).getFullYear(),time:new Date(this.date).getTime()}).then((function(){t.$toast.success("新增一筆"+t.type,{position:"top-right"}),t.$router.push("/main")})).catch((function(a){console.log(a),t.$router.push("/main")}))}},s_tag:function(t){this.select_tag=t},s_type:function(t){this.type=t,this.select_tag=""},_uuid:function(){var t=Date.now();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(a){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===a?e:3&e|8).toString(16)}))}}}),st=et,it=Object(p["a"])(st,tt,at,!1,null,null,null),nt=it.exports,ot=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("InfoModal"),e("div",{staticClass:"modal fade",attrs:{id:"Add_tag","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.add_tag()}}},[e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_add.name,expression:"new_add.name"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"a",required:"",autocomplete:"off"},domProps:{value:t.new_add.name},on:{input:function(a){a.target.composing||t.$set(t.new_add,"name",a.target.value)}}}),e("label",{attrs:{for:"floatingInput"}},[t._v("標籤名稱")])]),e("div",{staticClass:"mb-3"},[e("p",{attrs:{for:"floatingInput"}},[t._v("標籤顏色")]),e("v-swatches",{attrs:{"popover-x":"left",swatches:"text-advanced","show-fallback":"","fallback-input-type":"color"},model:{value:t.new_add.color,callback:function(a){t.$set(t.new_add,"color",a)},expression:"new_add.color"}})],1),e("br"),e("br"),e("div",{staticClass:"d-grid gap-2"},[e("button",{staticClass:"btn btn-primary",attrs:{"data-bs-dismiss":"modal",type:"submit"},on:{click:function(a){return t.add_tag()}}},[t._v("新增")])])])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"Edit_tag","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.edit_tag()}}},[e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_edit.name,expression:"new_edit.name"}],staticClass:"form-control",attrs:{type:"text",id:"tag_edit_input",placeholder:"a",required:"",autocomplete:"off"},domProps:{value:t.new_edit.name},on:{input:function(a){a.target.composing||t.$set(t.new_edit,"name",a.target.value)}}}),e("label",{attrs:{for:"floatingInput"}},[t._v("標籤名稱")])]),e("div",{staticClass:"mb-3"},[e("p",{attrs:{for:"floatingInput"}},[t._v("標籤顏色")]),e("v-swatches",{attrs:{"popover-x":"left",swatches:"text-advanced","show-fallback":"","fallback-input-type":"color"},model:{value:t.new_edit.color,callback:function(a){t.$set(t.new_edit,"color",a)},expression:"new_edit.color"}})],1),e("br"),e("br"),e("div",{staticClass:"d-grid gap-2"},[e("button",{staticClass:"btn btn-primary",attrs:{"data-bs-dismiss":"modal",type:"submit"},on:{click:function(a){return t.edit_tag()}}},[t._v("完成")])])])])])])]),t._m(2),"0"===t.pannel?e("div",[e("div",{staticClass:"list-group"},[e("a",{staticClass:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",attrs:{role:"button"},on:{click:function(a){t.pannel="1"}}},[e("h5",[t._v("編輯支出標籤")]),e("h5",[e("span",{staticClass:"badge bg-primary rounded-pill"},[t._v(t._s(t.tmp.length))])])]),e("a",{staticClass:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",attrs:{role:"button"},on:{click:function(a){t.pannel="2"}}},[e("h5",[t._v("編輯收入標籤")]),e("h5",[e("span",{staticClass:"badge bg-primary rounded-pill"},[t._v(t._s(t.tmp1.length))])])])])]):e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-1"},[e("button",{staticClass:"btn btn-light",attrs:{role:"button"},on:{click:function(a){t.pannel="0"}}},[e("svg",{staticClass:"bi bi-arrow-90deg-left",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z"}})])])]),e("br"),e("br"),e("div",{staticClass:"col-sm-11"},[e("div",{staticClass:"d-grid gap-2"},[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic outlined example"}},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#Add_tag"}},[e("svg",{staticClass:"bi bi-folder-plus",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M.5 3l.04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.684.12L1.5 2.98a1 1 0 0 1 1-.98h3.672z"}}),e("path",{attrs:{d:"M13.5 10a.5.5 0 0 1 .5.5V12h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V13h-1.5a.5.5 0 0 1 0-1H13v-1.5a.5.5 0 0 1 .5-.5z"}})]),t._v(" 新增標籤 ")]),e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(a){return t.upload_tag()}}},[e("svg",{staticClass:"bi bi-cloud-upload",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"}})]),t._v(" 儲存標籤 ")])])])])]),e("br"),"1"===t.pannel?e("div",[e("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.tmp,(function(a,s){return e("div",{key:a.id_,staticClass:"mb-1 list-item"},[e("div",{staticClass:"card card-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("h5",[e("span",{staticClass:"badge rounded-pill",style:t.get_tag(a.colors)},[t._v(t._s(a.tag))])]),e("span",[e("span",{staticStyle:{padding:"5px"},attrs:{role:"button"},on:{click:function(a){return t.move_up_tag(s)}}},[e("svg",{staticClass:"bi bi-caret-up",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659l4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"}})])]),e("span",{staticStyle:{padding:"5px"},attrs:{role:"button"},on:{click:function(a){return t.move_down_tag(s)}}},[e("svg",{staticClass:"bi bi-caret-down",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"}})])]),e("span",{staticStyle:{padding:"5px"},attrs:{role:"button","data-bs-toggle":"modal","data-bs-target":"#Edit_tag"},on:{click:function(e){t.new_edit.name=a.tag,t.new_edit.color=a.colors,t.new_edit.uuid=a.id_,t.new_edit.index=s}}},[e("svg",{staticClass:"bi bi-pencil",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}})])]),e("span",{staticStyle:{padding:"5px"},attrs:{role:"button"},on:{click:function(a){return t.delete_tag(s)}}},[e("svg",{staticClass:"bi bi-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])])])])])])})),0)],1):t._e(),"2"===t.pannel?e("div",[e("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.tmp1,(function(a,s){return e("div",{key:a.id_,staticClass:"mb-1 list-item"},[e("div",{staticClass:"card card-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("h5",[e("span",{staticClass:"badge rounded-pill",style:t.get_tag(a.colors)},[t._v(t._s(a.tag))])]),e("span",[e("span",{staticStyle:{padding:"5px"},attrs:{role:"button"},on:{click:function(a){return t.move_up_inc_tag(s)}}},[e("svg",{staticClass:"bi bi-caret-up",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659l4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"}})])]),e("span",{staticStyle:{padding:"5px"},attrs:{role:"button"},on:{click:function(a){return t.move_down_inc_tag(s)}}},[e("svg",{staticClass:"bi bi-caret-down",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"}})])]),e("span",{staticStyle:{padding:"5px"},attrs:{role:"button","data-bs-toggle":"modal","data-bs-target":"#Edit_tag"},on:{click:function(e){t.new_edit.name=a.tag,t.new_edit.color=a.colors,t.new_edit.uuid=a.id_,t.new_edit.index=s}}},[e("svg",{staticClass:"bi bi-pencil",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}})])]),e("span",{staticStyle:{padding:"5px"},attrs:{role:"button"},on:{click:function(a){return t.delete_inc_tag(s)}}},[e("svg",{staticClass:"bi bi-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])])])])])])})),0)],1):t._e()]),e("br"),e("div",{staticClass:"d-grid gap-2 col-6 mx-auto"},[e("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.logout}},[t._v("登出")])])],1)},rt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"staticBackdropLabel"}},[t._v("新增標籤")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"staticBackdropLabel"}},[t._v("編輯標籤")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",[t._v("設定 "),e("button",{staticClass:"btn btn-link",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}},[t._v("V1.0.1-build220")])])}],lt=(e("a434"),e("7f75")),ct=e.n(lt),dt=(e("b3a4"),{name:"Profile",components:{VSwatches:ct.a,InfoModal:P},props:{tags:Array,colors:Array,inc_tags:Array,inc_colors:Array},data:function(){return{tmp:new Array,tmp1:new Array,pannel:"0",new_add:{color:"#002101",name:""},new_edit:{color:"",name:"",uuid:"",index:0}}},watch:{pannel:function(){this.init_tmp()},tags:function(){this.init_tmp()},inc_tags:function(){this.init_tmp()}},created:function(){this.init_tmp()},methods:{logout:function(){var t=this;f["a"].auth().signOut().then((function(){t.$toast.success("登出成功",{position:"top-right"})})).catch((function(t){console.log(t)}))},get_tag:function(t){return{"background-color":t}},delete_tag:function(t){this.$toast.success('刪除"'+this.tmp[t].tag+'"',{position:"top-right"}),this.tmp.splice(t,1)},move_up_tag:function(t){if(0!=t){var a=this.tmp[t],e=this.tmp[t-1];l["default"].set(this.tmp,t-1,a),l["default"].set(this.tmp,t,e)}},move_down_tag:function(t){if(t!=this.tmp.length-1){var a=this.tmp[t],e=this.tmp[t+1];l["default"].set(this.tmp,t+1,a),l["default"].set(this.tmp,t,e)}},delete_inc_tag:function(t){this.$toast.success('刪除"'+this.tmp1[t].tag+'"',{position:"top-right"}),this.tmp1.splice(t,1)},move_up_inc_tag:function(t){if(0!=t){var a=this.tmp1[t],e=this.tmp1[t-1];l["default"].set(this.tmp1,t-1,a),l["default"].set(this.tmp1,t,e)}},move_down_inc_tag:function(t){if(t!=this.tmp1.length-1){var a=this.tmp1[t],e=this.tmp1[t+1];l["default"].set(this.tmp1,t+1,a),l["default"].set(this.tmp1,t,e)}},init_tmp:function(){this.tmp=new Array,this.tmp1=new Array;for(var t=0;t<this.tags.length;t++)this.tmp.push({tag:this.tags[t],colors:this.colors[t],id_:this._uuid()});for(var a=0;a<this.inc_tags.length;a++)this.tmp1.push({tag:this.inc_tags[a],colors:this.inc_colors[a],id_:this._uuid()})},_uuid:function(){var t=Date.now();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(a){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===a?e:3&e|8).toString(16)}))},add_tag:function(){""!=this.new_add.name?("1"==this.pannel?this.tmp.push({tag:this.new_add.name,colors:this.new_add.color,id_:this._uuid()}):this.tmp1.push({tag:this.new_add.name,colors:this.new_add.color,id_:this._uuid()}),this.$toast.success("新增完成",{position:"top-right"})):this.$toast.error("標籤名稱不可空白",{position:"top-right"})},edit_tag:function(){if(""!=this.new_edit.name){var t={tag:this.new_edit.name,colors:this.new_edit.color,id_:this.new_edit.uuid};"1"==this.pannel?l["default"].set(this.tmp,this.new_edit.index,t):l["default"].set(this.tmp1,this.new_edit.index,t),this.$toast.success("編輯完成",{position:"top-right"})}else this.$toast.error("標籤名稱不可空白",{position:"top-right"})},upload_tag:function(){var t=this,a={};if("1"==this.pannel){a.tags=new Array,a.colors=new Array;for(var e=0;e<this.tmp.length;e++)a.tags.push(this.tmp[e].tag),a.colors.push(this.tmp[e].colors);if(a.inc_tags=this.inc_tags,a.inc_color=this.inc_colors,-1==a.tags.indexOf("其他"))return void this.$toast.error('支出標籤內必須含有"其他"標籤',{position:"top-right"})}else{a.inc_tags=new Array,a.inc_color=new Array;for(var s=0;s<this.tmp1.length;s++)a.inc_tags.push(this.tmp1[s].tag),a.inc_color.push(this.tmp1[s].colors);if(a.tags=this.tags,a.colors=this.colors,-1==a.inc_tags.indexOf("現金"))return void this.$toast.error('收入標籤內必須含有"現金"標籤',{position:"top-right"})}var i=f["a"].auth().currentUser.uid;f["a"].firestore().collection("service").doc(i).set(a).then((function(a){console.log("success"),t.$toast.success("標籤更新成功！",{position:"top-right"}),t.$emit("reload_tag",a)})).catch((function(t){var a=t.code+"\n"+t.message;alert(a)}))}}}),ut=dt,ht=(e("2a37"),Object(p["a"])(ut,ot,rt,!1,null,null,null)),pt=ht.exports,mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",["true"===t.init_load?e("div",["true"===t.detail_empty?e("div",[e("div",{staticClass:"card card-body",staticStyle:{"border-left":"5px solid #dc3545"}},[e("div",{staticClass:"d-flex justify-content-between"},[e("h5",[e("svg",{staticClass:"bi bi-cart-x",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M7.354 5.646a.5.5 0 1 0-.708.708L7.793 7.5 6.646 8.646a.5.5 0 1 0 .708.708L8.5 8.207l1.146 1.147a.5.5 0 0 0 .708-.708L9.207 7.5l1.147-1.146a.5.5 0 0 0-.708-.708L8.5 6.793 7.354 5.646z"}}),e("path",{attrs:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}})]),t._v(" 沒有紀錄... ")])])])]):e("div",["0"===t.choose_state?e("div",{staticClass:"list-group"},t._l(t.time_line,(function(a,s){return e("div",{key:s},[0!==t.time_count_p[s]||0!==t.time_count_n[s]?e("div",{staticClass:"list-group-item list-group-item-action d-flex justify-content-between align-items-center rounded",attrs:{role:"button"},on:{click:function(e){t.choose_month=a,t.choose_state="1",t.display_type="detail",t.select_date=null,t.get_Date_money()}}},[e("h5",[e("span",[t._v(t._s(a))])]),e("h5",[e("span",{staticClass:"badge bg-primary rounded-pill"},[t._v(t._s(t.time_count_p[s]+t.time_count_n[s]))])])]):e("div",{staticClass:"list-group-item list-group-item-action d-flex justify-content-between align-items-center rounded",attrs:{role:"button"},on:{click:function(a){return t.toggle_empty()}}},[e("h5",[e("span",[t._v(t._s(a))])]),e("h5",[e("span",{staticClass:"badge bg-primary rounded-pill"},[t._v(t._s(t.time_count_p[s]+t.time_count_n[s]))])])])])})),0):"1"===t.choose_state?e("div",[e("div",{staticClass:"d-flex justify-content-between"},[e("button",{staticClass:"btn btn-light",attrs:{role:"button"},on:{click:function(a){t.choose_state="0"}}},[e("svg",{staticClass:"bi bi-arrow-90deg-left",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z"}})])]),e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-light",attrs:{role:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("svg",{staticClass:"bi bi-cloud-arrow-down",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M7.646 10.854a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 9.293V5.5a.5.5 0 0 0-1 0v3.793L6.354 8.146a.5.5 0 1 0-.708.708l2 2z"}}),e("path",{attrs:{d:"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"}})])]),e("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton1"}},[e("li",[e("vue-blob-json-csv",{staticClass:"dropdown-item",attrs:{"file-type":"csv","file-name":t.choose_month,"tag-name":"button",data:t.export_csv_data(),fields:["year","month","date","type","tag","name","count"]},on:{success:function(a){return t.toggle_download()}}},[t._v(" 下載"+t._s(t.choose_month)+"報表(.csv) ")])],1)])]),"detail"==t.display_type?e("button",{staticClass:"btn btn-light",attrs:{role:"button"},on:{click:function(a){t.display_type="chart",t.chart_options.title.text=t.choose_month+" 概況",t.donut_options.title.text=t.choose_month}}},[e("svg",{staticClass:"bi bi-bar-chart-line",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z"}})])]):t._e(),"chart"==t.display_type?e("button",{staticClass:"btn btn-light",attrs:{role:"button"},on:{click:function(a){t.display_type="detail"}}},[e("svg",{staticClass:"bi bi-card-list",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"}}),e("path",{attrs:{d:"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"}})])]):t._e()])]),e("br"),"detail"==t.display_type?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md"},[!1===t.date_load?e("div",[e("div",{staticClass:"row gx-3"},[e("div",{staticClass:"col"},[e("div",{staticClass:"border border-success border-4 rounded-pill text-center"},[e("div",{staticClass:"fs-3"},[t._v(" "+t._s(t.time_count_p[t.time_line.indexOf(t.choose_month)])+" ")])])]),e("div",{staticClass:"col"},[e("div",{staticClass:" border border-warning border-4 rounded-pill text-center"},[e("div",{staticClass:"fs-3"},[t._v(" "+t._s(t.time_count_n[t.time_line.indexOf(t.choose_month)])+" ")])])])])]):t._e(),e("br"),e("div",{staticClass:"fs-3"},[e("vc-date-picker",{attrs:{attributes:t.cal_attr,"is-expanded":"",step:0,"min-date":new Date(t.choose_month),"max-date":new Date(t.choose_month.split("-")[0],t.choose_month.split("-")[1],0)},model:{value:t.select_date,callback:function(a){t.select_date=a},expression:"select_date"}})],1),e("br")]),e("div",{staticClass:"col-md"},[!1===t.date_load?e("div",[e("List",{attrs:{list:t.list,tags:t.tags,colors:t.colors,inc_colors:t.inc_colors,inc_tags:t.inc_tags},on:{delete_done:t.delete_done,edit_done:t.edit_done}})],1):t._e(),e("br"),e("br")])]):t._e(),"chart"==t.display_type?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[!1===t.date_load?e("div",[e("div",{staticClass:"row gx-3"},[e("div",{staticClass:"col"},[e("div",{staticClass:"border border-success border-4 rounded-pill text-center"},[e("div",{staticClass:"fs-3"},[t._v(" "+t._s(t.time_count_p[t.time_line.indexOf(t.choose_month)])+" ")])])]),e("div",{staticClass:"col"},[e("div",{staticClass:" border border-warning border-4 rounded-pill text-center"},[e("div",{staticClass:"fs-3"},[t._v(" "+t._s(t.time_count_n[t.time_line.indexOf(t.choose_month)])+" ")])])])])]):t._e(),e("br"),e("div",{staticStyle:{margin:"0 auto",position:"relative","max-height":"400px","max-width":"400px"}},[e("Chart",{attrs:{chartdata:t.chart_data,options:t.chart_options}})],1),e("br")]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"d-grid gap-2"},[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic radio toggle button group"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.display_chart,expression:"display_chart"}],staticClass:"btn-check",attrs:{type:"radio",name:"btnradio",id:"btnradio1",value:"out"},domProps:{checked:t._q(t.display_chart,"out")},on:{change:function(a){t.display_chart="out"}}}),e("label",{staticClass:"btn btn-outline-primary",attrs:{for:"btnradio1"}},[t._v("支出")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.display_chart,expression:"display_chart"}],staticClass:"btn-check",attrs:{type:"radio",name:"btnradio",id:"btnradio2",value:"inc"},domProps:{checked:t._q(t.display_chart,"inc")},on:{change:function(a){t.display_chart="inc"}}}),e("label",{staticClass:"btn btn-outline-primary",attrs:{for:"btnradio2"}},[t._v("收入")])])]),e("br"),e("div",["out"===t.display_chart?e("div",{staticStyle:{margin:"0 auto",position:"relative","max-height":"400px","max-width":"400px"}},[e("Donut",{attrs:{chartdata:t.donut_data,options:t.donut_options}})],1):"inc"===t.display_chart?e("div",{staticStyle:{margin:"0 auto",position:"relative","max-height":"400px","max-width":"400px"}},[e("Donut2",{attrs:{chartdata:t.donut_data_inc,options:t.donut_options}})],1):t._e()])])]):t._e()]):t._e()])]):e("div",{staticClass:"text-center"},[t._v(" 載入中... ")])])},gt=[],_t=(e("4160"),e("159b"),e("1fca")),bt={mixins:[_t["a"]],props:["chartdata","options"],mounted:function(){this.renderChart(this.chartdata,this.options)}},vt=bt,ft=Object(p["a"])(vt,s,i,!1,null,null,null),wt=ft.exports,yt={mixins:[_t["b"]],props:["chartdata","options"],mounted:function(){this.renderChart(this.chartdata,this.options)}},Ct=yt,xt=Object(p["a"])(Ct,n,o,!1,null,null,null),jt=xt.exports,kt={name:"Profile",props:{tags:Array,colors:Array,inc_tags:Array,inc_colors:Array},components:{List:k,Chart:wt,Donut:jt,Donut2:jt},data:function(){return{create_time:"",wallets:{},time_line:new Array,time_count_p:new Array,time_count_n:new Array,init_load:"false",select_date:"",choose_state:"0",choose_date:"",choose_month:"",cal_attr:[{bar:{style:{backgroundColor:"#198754"}},dates:[]},{bar:{style:{backgroundColor:"#ffc107"}},dates:[]}],delete_uuid:"",delete_month:"",date_load:!1,list:new Array,detail_empty:"false",display_type:"detail",display_chart:"out",chart_data:{labels:[],datasets:[{type:"line",pointRadius:0,label:"總和",borderWidth:2,fill:!1,borderColor:"#7b7b7b",data:[]},{type:"bar",label:"收入",backgroundColor:"#198754ad",borderColor:"#198754",data:[]},{type:"bar",label:"支出",backgroundColor:"#ffc107ad",borderColor:"#ffc107",data:[]}]},chart_options:{title:{display:!0,text:""},tooltips:{mode:"index",intersect:!1},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}},donut_data:{datasets:[{data:[1,2,3,4,5],backgroundColor:[],label:"Dataset 1"}],labels:[]},donut_data_inc:{datasets:[{data:[1,2,3,4,5],backgroundColor:[],label:"Dataset 1"}],labels:[]},donut_options:{responsive:!0,legend:{position:"top"},title:{display:!0,text:"Chart.js Doughnut Chart"},animation:{animateScale:!0,animateRotate:!0}},test_data:[{userId:1,id:1,title:"delectus aut autem",completed:!1},{userId:1,id:2,title:"quis ut nam facilis et officia qui",completed:!1},{userId:1,id:3,title:"fugiat veniam minus",completed:!1}]}},watch:{select_date:function(t){var a=new Date(t);this.choose_date=a.getDate().toString(),this.list=this.wallets[this.choose_month][this.choose_date]}},created:function(){this.init()},methods:{init:function(){var t=this;this.wallets={},this.time_line=new Array,this.time_count_p=new Array,this.time_count_n=new Array,this.donut_data.labels=this.tags,this.donut_data.datasets[0].backgroundColor=this.colors,this.donut_data_inc.labels=this.inc_tags,this.donut_data_inc.datasets[0].backgroundColor=this.inc_colors,this.create_time=f["a"].auth().currentUser.metadata.a;var a=f["a"].auth().currentUser.uid;f["a"].firestore().collection("service").doc(a).collection("wallet").get().then((function(e){0==e.docs.length&&(t.detail_empty="true"),e.forEach((function(e){t.wallets[e.id]={count:0};for(var s=new Date(e.id.split("-")[0],parseInt(e.id.split("-")[1]),0).getDate(),i=1;i<=s;i++)t.wallets[e.id][i]=new Array;f["a"].firestore().collection("service").doc(a).collection("wallet").doc(e.id).collection("detail").get().then((function(a){var s=0,i=0;a.forEach((function(a){t.wallets[e.id][a.data().date].push(a.data()),t.wallets[e.id].count+=a.data().count,a.data().count<0?s+=a.data().count:i+=a.data().count})),t.time_line.push(e.id),t.time_count_p.push(i),t.time_count_n.push(s),1==t.choose_state&&(t.list=t.wallets[t.choose_month][t.choose_date]);var n=new Date(t.select_date);t.choose_date=n.getDate().toString(),t.get_Date_money()})).catch((function(t){console.error(t)}))}))})).then((function(){t.get_Date_money()})).catch((function(t){console.error(t)}))},get_Date:function(t){var a=new Date(t.split("-")[0],parseInt(t.split("-")[1]),0).getDate();return a},get_Date_money:function(){this.cal_attr=[{bar:{style:{backgroundColor:"#198754"}},dates:[]},{bar:{style:{backgroundColor:"#ffc107"}},dates:[]}],this.chart_data.labels=new Array,this.chart_data.datasets[0].data=new Array,this.chart_data.datasets[1].data=new Array,this.chart_data.datasets[2].data=new Array,this.donut_data.datasets[0].data=new Array,this.donut_data_inc.datasets[0].data=new Array;for(var t=0;t<this.tags.length;t++)this.donut_data.datasets[0].data.push(0);for(var a=0;a<this.inc_tags.length;a++)this.donut_data_inc.datasets[0].data.push(0);for(var e=0,s=1;s<=new Date(this.choose_month.split("-")[0],this.choose_month.split("-")[1],0).getDate();s++){this.chart_data.labels.push(s);var i=!1,n=0,o=!1,r=0,l=this.wallets[this.choose_month][s];for(var c in l)if(l[c].count>=0){i=!0,n+=l[c].count;var d=this.inc_tags.indexOf(l[c].tag);this.donut_data_inc.datasets[0].data[d]+=l[c].count}else if(l[c].count<0){o=!0,r+=l[c].count;var u=this.tags.indexOf(l[c].tag);this.donut_data.datasets[0].data[u]-=l[c].count}1==i&&this.cal_attr[0].dates.push(new Date(l[0].year,l[0].month-1,l[0].date)),1==o&&this.cal_attr[1].dates.push(new Date(l[0].year,l[0].month-1,l[0].date)),this.chart_data.datasets[1].data.push(n),this.chart_data.datasets[2].data.push(r),e+=n+r,this.chart_data.datasets[0].data.push(e)}this.init_load="true"},delete_done:function(){this.$emit("total"),this.init()},edit_done:function(){this.$emit("total"),this.init()},export_csv_data:function(){var t=new Array;for(var a in this.wallets[this.choose_month])for(var e in this.wallets[this.choose_month][a])t.push(this.wallets[this.choose_month][a][e]);return t},toggle_download:function(){this.$toast.success("下載成功",{position:"top-right"})},toggle_empty:function(){this.$toast.warning("這個月沒有紀錄",{position:"top-right"})}}},zt=kt,Mt=Object(p["a"])(zt,mt,gt,!1,null,null,null),At=Mt.exports;l["default"].use(_["a"]);var Lt=[{path:"/main",component:X,props:!0,meta:{requiresAuth:!0},children:[{path:"",name:"Home",component:L},{path:"detail",name:"Detail",component:At},{path:"record",name:"Record",component:nt},{path:"profile",name:"Profile",component:pt},{path:"*",redirect:"/main"}]},{path:"/login",name:"Login",component:q},{path:"/register",name:"Register",component:J},{path:"/*",redirect:"/main"}],Vt=new _["a"]({mode:"history",base:"/wallet/",linkExactActiveClass:"active",routes:Lt});Vt.beforeEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a,e,s){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=a.matched.some((function(t){return t.meta.requiresAuth})),f["a"].auth().onAuthStateChanged((function(t){!t&&i?s({name:"Login"}):(!t||"Login"!=a.name&&"Register"!=a.name||s({name:"Home"}),s())}));case 2:case"end":return t.stop()}}),t)})));return function(a,e,s){return t.apply(this,arguments)}}());var Ht,Dt=Vt,$t=e("5887"),St=e.n($t),Bt=e("2c08"),Ot=e.n(Bt),Pt=e("b079"),Et=e.n(Pt),It=(e("4238"),e("f9e3"),e("da96"),{apiKey:"AIzaSyBP5CCdYa7v8tomOfE0Yj04huNJ7Ar7vvU",authDomain:"wallet-49d18.firebaseapp.com",projectId:"wallet-49d18",storageBucket:"wallet-49d18.appspot.com",messagingSenderId:"358130182735",appId:"1:358130182735:web:38d723d96e63f266e1983a",measurementId:"G-MZN4GPN262"});f["a"].initializeApp(It),l["default"].config.productionTip=!1,l["default"].use(Ot.a),l["default"].use(Et.a),l["default"].use(St.a,{componentPrefix:"vc"}),f["a"].auth().onAuthStateChanged(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Ht){t.next=5;break}return console.log(a),t.next=4,f["a"].auth().currentUser;case 4:Ht=new l["default"]({router:Dt,render:function(t){return t(g)}}).$mount("#app");case 5:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}())},"5ccf":function(t,a,e){},"65da":function(t,a,e){},8319:function(t,a,e){},"85ec":function(t,a,e){},cf05:function(t,a,e){t.exports=e.p+"img/logo.6d677303.png"},d6db:function(t,a,e){"use strict";e("e67a")},e67a:function(t,a,e){},f62b:function(t,a,e){"use strict";e("65da")}});
//# sourceMappingURL=app.67117379.js.map